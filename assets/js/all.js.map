{"version":3,"sources":["all.js","AuthorizationHeader.js"],"names":["subscriptionInfoForm","document","querySelector","subscriptionEmail","subscriptionBtn","addEventListener","reMail","value","swal","test","reset","attractionsList","foodList","attractionsData","foodData","ScenicSpotModal","FoodSpotModal","renderAttractionsList","data","str","length","innerHTML","forEach","item","OpenTime","undefined","ScenicSpotID","Picture","PictureUrl1","PictureDescription1","ScenicSpotName","Phone","getAllAttractionsList","url","axios","get","headers","GetAuthorizationHeader","then","res","error","console","log","e","modalBtn","relatedTarget","id","getAttribute","img","title","description","openTime","phone","setAttribute","textContent","DescriptionDetail","renderFoodList","RestaurantID","RestaurantName","Address","getAllFoodList","Description","init","authUrl","parameter","grant_type","client_id","client_secret","post","Qs","stringify","defaults","common","Authorization","access_token","err"],"mappings":"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","file":"all.js","sourcesContent":["/* global axios */\n\n/* 訂閱區塊JS */\nconst subscriptionInfoForm = document.querySelector('.subscriptionInfo-form');\n// 訂閱input輸入\nconst subscriptionEmail = document.querySelector('.subscription-email');\n// 訂閱按鈕\nconst subscriptionBtn = document.querySelector('.subscription-btn');\n\n// 監聽訂閱按鈕\nsubscriptionBtn.addEventListener('click', () => {\n    // eslint-disable-next-line no-useless-escape\n    // Email 格式驗證\n    const reMail = /^([a-zA-Z0-9_\\.\\-\\+])+\\@(([a-zA-Z0-9\\-])+\\.)+([a-zA-Z0-9]{2,4})+$/;\n    const { value } = subscriptionEmail;\n    // console.log(value);\n    if (value === '') {\n        swal('出錯了！', '未輸入Email', 'error');\n    } else if (!reMail.test(value)) {\n        swal('出錯了！', 'Email格式錯誤', 'error');\n    } else {\n        swal('訂閱成功！', '將定期發送相關觀光資訊', 'success');\n        subscriptionInfoForm.reset();\n    }\n});\n\n// API 的 filter 用法：例如: 沒有圖片時\n// $filter=Picture/PictureUrl1 ne null\n\n// 宣告列表\nconst attractionsList = document.querySelector('.attractions-list');\nconst foodList = document.querySelector('.food-list');\n\n// 存放觀光景點資料\nlet attractionsData = [];\n// 存放美食景點資料\nlet foodData = [];\n\n// Modal\nconst ScenicSpotModal = document.querySelector('#attractionsScenicSpotModal');\nconst FoodSpotModal = document.querySelector('#foodScenicSpotModal');\n\n// 渲染預設景點列表\nfunction renderAttractionsList(data) {\n  let str = '';\n  // console.log(data.length);\n  if (data.length === 0) {\n    str = `<li class=\"d-flex justify-content-center align-items-center\">\n    <span class=\"material-icons text-sm-m text-md-lg text-2xl me-4\">\n      error_outline\n    </span>\n    <p class=\"text-sm-m text-md-lg text-2xl text-center\">目前沒有資料\n    </p>\n  </li>`;\n    attractionsList.innerHTML = str;\n  } else {\n    data.forEach((item) => {\n      // console.log(item);\n\n      // 若API有提供圖片網址，但圖片網址失效時，使用 onerror=\"this.src='https://i.ibb.co/5WGrGkK/404.jpg'\" 替代\n      // if (JSON.stringify(item.Picture) === '{}') {\n      //   return;\n      // }\n      if (item.OpenTime === undefined) {\n        str += `<li class=\"col-md-6 col-lg-4 d-flex flex-column\">\n        <div class=\"card my-2 my-md-4 my-lg-6 card-shadow-hover h-100\">\n          <a href=\"\" class=\"stretched-link\" data-bs-toggle=\"modal\" data-bs-target=\"#attractionsScenicSpotModal\"\n            data-bs-whatever=\"${item.ScenicSpotID}\">\n            <img src=\"${item.Picture.PictureUrl1}\"\n              onerror=\"this.src='https://i.ibb.co/hR0Sb7y/404.jpg';this.onerror = null\"\n              class=\"card-img-top img-fluid\" alt=\".${item.Picture.PictureDescription1}\">\n          </a>\n          <div class=\"card-body\">\n            <h4 class=\"text-sm-m text-lg text-warning\">${item.ScenicSpotName}</h4>\n            <div class=\"d-flex\">\n              <p class=\"text-s text-success mt-2\">開放時間：未提供相關時間</p>\n            </div>\n            <p class=\"text-s text-success mt-2\">連絡電話：${item.Phone}</p>\n          </div>\n        </div>\n      </li>`;\n      } else {\n        str += `<li class=\"col-md-6 col-lg-4 d-flex flex-column\">\n        <div class=\"card my-2 my-md-4 my-lg-6 card-shadow-hover h-100\">\n          <a href=\"\" class=\"stretched-link\" data-bs-toggle=\"modal\" data-bs-target=\"#attractionsScenicSpotModal\"\n            data-bs-whatever=\"${item.ScenicSpotID}\">\n            <img src=\"${item.Picture.PictureUrl1}\"\n              onerror=\"this.src='https://i.ibb.co/hR0Sb7y/404.jpg';this.onerror = null\"\n              class=\"card-img-top img-fluid\" alt=\".${item.Picture.PictureDescription1}\">\n          </a>\n          <div class=\"card-body\">\n            <h4 class=\"text-sm-m text-lg text-warning\">${item.ScenicSpotName}</h4>\n            <p class=\"text-s text-success mt-2\">開放時間：${item.OpenTime}</p>\n            <p class=\"text-s text-success mt-2\">連絡電話：${item.Phone}</p>\n          </div>\n        </div>\n      </li>`;\n      }\n    });\n    attractionsList.innerHTML = str;\n  }\n}\n// 取得預設景點資料\nfunction getAllAttractionsList() {\n  const url = 'https://tdx.transportdata.tw/api/basic/v2/Tourism/ScenicSpot/Taipei?$filter=contains(Class1,%27%E9%81%8A%E6%86%A9%E9%A1%9E%27)&$top=6&$skip=9&$format=JSON';\n  axios.get(\n    url,\n    {\n      headers: GetAuthorizationHeader(),\n    },\n    ).then((res) => {\n      attractionsData = res.data;\n      renderAttractionsList(attractionsData);\n      // console.log(attractionsData);\n    })\n    .catch((error) => {\n      console.log(error);\n    });\n}\n// 監聽\nScenicSpotModal.addEventListener('show.bs.modal', (e) => {\n  // console.log(e.relatedTarget);\n  const modalBtn = e.relatedTarget; // 被點擊的元素可作為事件的 relatedTarget 屬性\n  const id = modalBtn.getAttribute('data-bs-whatever');\n  const img = ScenicSpotModal.querySelector('.card-img-top');\n  const title = ScenicSpotModal.querySelector('.card-title');\n  const description = ScenicSpotModal.querySelector('.card-text');\n  const openTime = ScenicSpotModal.querySelector('.openTime');\n  const phone = ScenicSpotModal.querySelector('.phone');\n\n  attractionsData.forEach((item) => {\n    // console.log(item);\n    if (item.ScenicSpotID === id) {\n      img.setAttribute('src', `${item.Picture.PictureUrl1}`);\n      title.textContent = `${item.ScenicSpotName}`;\n      description.textContent = `${item.DescriptionDetail}`;\n      if (item.OpenTime === undefined) {\n        // eslint-disable-next-line no-param-reassign\n        item.OpenTime = '未提供';\n      }\n      openTime.innerHTML = `\n        <span class=\"material-icons-outlined me-2\">\n          schedule\n        </span>\n        ${item.OpenTime}\n      `;\n      phone.innerHTML = `\n        <span class=\"material-icons me-2\">\n          call\n        </span>\n        <a href=\"tel:+${item.Phone}\">${item.Phone}</a>\n      `;\n    }\n  });\n});\n\n// 渲染預設美食列表\nfunction renderFoodList(data) {\n  let str = '';\n  // console.log(data.length);\n  if (data.length === 0) {\n    str = `<li class=\"d-flex justify-content-center align-items-center\">\n    <span class=\"material-icons text-sm-m text-md-lg text-2xl me-4\">\n      error_outline\n    </span>\n    <p class=\"text-sm-m text-md-lg text-2xl text-center\">目前沒有資料\n    </p>\n  </li>`;\n    foodList.innerHTML = str;\n  } else {\n    data.forEach((item) => {\n      // console.log(item);\n\n      // 若API有提供圖片網址，但圖片網址失效時，使用 onerror=\"this.src='https://i.ibb.co/5WGrGkK/404.jpg'\" 替代\n      // if (JSON.stringify(item.Picture) === '{}') {\n      //   return;\n      // }\n      if (item.OpenTime === undefined) {\n        str += `<li class=\"col-md-6 col-lg-4 d-flex flex-column\">\n        <div class=\"card my-2 my-md-4 my-lg-6 card-shadow-hover h-100\">\n          <a href=\"\" class=\"stretched-link\" data-bs-toggle=\"modal\" data-bs-target=\"#foodScenicSpotModal\"\n            data-bs-whatever=\"${item.RestaurantID}\">\n            <img src=\"${item.Picture.PictureUrl1}\"\n              onerror=\"this.src='https://i.ibb.co/hR0Sb7y/404.jpg';this.onerror = null\"\n              class=\"card-img-top img-fluid\" alt=\".${item.Picture.PictureDescription1}\">\n          </a>\n          <div class=\"card-body\">\n            <h4 class=\"text-sm-m text-lg text-warning\">${item.RestaurantName}</h4>\n            <div class=\"d-flex\">\n              <p class=\"text-s text-success mt-2\">開放時間：未提供相關時間</p>\n            </div>\n            <p class=\"text-s text-success mt-2\">所在地址：${item.Address}</p>\n            <p class=\"text-s text-success mt-2\">連絡電話：${item.Phone}</p>\n          </div>\n        </div>\n      </li>`;\n      } else {\n        str += `<li class=\"col-md-6 col-lg-4 d-flex flex-column\">\n        <div class=\"card my-2 my-md-4 my-lg-6 card-shadow-hover h-100\">\n          <a href=\"\" class=\"stretched-link\" data-bs-toggle=\"modal\" data-bs-target=\"#foodScenicSpotModal\"\n            data-bs-whatever=\"${item.RestaurantID}\">\n            <img src=\"${item.Picture.PictureUrl1}\"\n              onerror=\"this.src='https://i.ibb.co/hR0Sb7y/404.jpg';this.onerror = null\"\n              class=\"card-img-top img-fluid\" alt=\".${item.Picture.PictureDescription1}\">\n          </a>\n          <div class=\"card-body\">\n            <h4 class=\"text-sm-m text-lg text-warning\">${item.RestaurantName}</h4>\n            <p class=\"text-s text-success mt-2\">開放時間：${item.OpenTime}</p>\n            <p class=\"text-s text-success mt-2\">所在地址：${item.Address}</p>\n            <p class=\"text-s text-success mt-2\">連絡電話：${item.Phone}</p>\n          </div>\n        </div>\n      </li>`;\n      }\n    });\n    foodList.innerHTML = str;\n  }\n}\n// 取得預設美食資料\nfunction getAllFoodList() {\n  const url = 'https://tdx.transportdata.tw/api/basic/v2/Tourism/Restaurant?%24filter=Picture%2FPictureUrl1%20ne%20null&%24orderby=Description&%24top=6&%24skip=200&%24format=JSON';\n  axios.get(\n    url,\n    {\n      headers: GetAuthorizationHeader(),\n    },\n    ).then((res) => {\n      foodData = res.data;\n      renderFoodList(foodData);\n      // console.log(foodData);\n    })\n    .catch((error) => {\n      console.log(error);\n    });\n}\nFoodSpotModal.addEventListener('show.bs.modal', (e) => {\n  // console.log(e.relatedTarget);\n  const modalBtn = e.relatedTarget; // 被點擊的元素可作為事件的 relatedTarget 屬性\n  const id = modalBtn.getAttribute('data-bs-whatever');\n  const img = FoodSpotModal.querySelector('.card-img-top');\n  const title = FoodSpotModal.querySelector('.card-title');\n  const description = FoodSpotModal.querySelector('.card-text');\n  const openTime = FoodSpotModal.querySelector('.openTime');\n  const phone = FoodSpotModal.querySelector('.phone');\n\n  foodData.forEach((item) => {\n    // console.log(item.RestaurantID);\n    if (item.RestaurantID === id) {\n      img.setAttribute('src', `${item.Picture.PictureUrl1}`);\n      title.textContent = `${item.RestaurantName}`;\n      description.textContent = `${item.Description}`;\n      if (item.OpenTime === undefined) {\n        // eslint-disable-next-line no-param-reassign\n        item.OpenTime = '未提供';\n      }\n      openTime.innerHTML = `\n        <span class=\"material-icons-outlined me-2\">\n          schedule\n        </span>\n        ${item.OpenTime}\n      `;\n      phone.innerHTML = `\n        <span class=\"material-icons me-2\">\n          call\n        </span>\n        <a href=\"tel:+${item.Phone}\">${item.Phone}</a>\n      `;\n    }\n  });\n});\n\n// ------ 初始化\nfunction init() {\n  // 呼叫取得token函式\n  // GetAuthorizationHeader();\n\n  // 呼叫取得預設觀光景點資料\n  getAllAttractionsList();\n  // 呼叫取得預設觀光美食資料\n  getAllFoodList();\n}\n\ninit();\n","/* global axios */\n\n// 請自行更換 client_id 與 client_secret\n// GetApiResponse() 中 axios.get('URL') 的 URL 可替換成想要取得的網址。\n\n// API 認證，取得 token\n// eslint-disable-next-line no-unused-vars\nfunction GetAuthorizationHeader() {\n    const authUrl = 'https://tdx.transportdata.tw/auth/realms/TDXConnect/protocol/openid-connect/token';\n\n      const parameter = {\n      grant_type: 'client_credentials',\n      client_id: 'apog780212-3c7005de-321a-4555',\n      client_secret: '4408c630-a7ff-4f57-8728-f4642ee5f932',\n    };\n\n    axios.post(authUrl,Qs.stringify(parameter))\n      .then((res) => {\n        axios.defaults.headers.common.Authorization = `Bearer ${res.data.access_token}`;\n      })\n      .catch((err) => {\n        console.log(err);\n      });\n}\n"]}