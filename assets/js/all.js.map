{"version":3,"sources":["activities.js","all.js","AuthorizationHeader.js","foods.js","rooms.js","swiper.js","tours.js"],"names":["activityFilterData","activitiesList","document","querySelector","activitiesSearch","activitiesSearchBtn","activitiesCitySelect","eventTime","activitiesSendSelect","activitiesPages","elem","datepicker","Datepicker","autohide","language","format","minDate","renderActivitiesList","data","str","length","innerHTML","record","forEach","item","Address","undefined","ActivityID","Picture","PictureUrl1","PictureDescription1","ActivityName","Date","StartTime","toLocaleDateString","EndTime","activityData","renderActivitiesPage","nowPage","dataPerPage","totalPages","Math","ceil","minData","maxData","currentData","index","push","pageInfo","isFirst","isLast","renderPageBtn","pageInfoData","allTotalPages","Number","i","renderActivitiesFilter","filterData","selectTime","parse","value","startTime","endTime","isNaN","addEventListener","e","preventDefault","target","nodeName","clickPage","dataset","page","keyword","replace","Swal","fire","url","axios","get","then","res","error","console","log","city","allUrl","cityUrl","headers","GetAuthorizationHeader","subscriptionInfoForm","subscriptionEmail","subscriptionBtn","reMail","test","reset","tourList","foodList","roomList","activityList","tourData","foodData","roomData","eventData","ScenicSpotModal","FoodSpotModal","RoomSpotModal","ActivitySpotModal","ActivitiesSpotModal","renderTourList","OpenTime","ScenicSpotID","ScenicSpotName","Phone","getIndexTourList","modalBtn","relatedTarget","id","getAttribute","img","title","description","openTime","address","phone","setAttribute","textContent","DescriptionDetail","renderFoodList","RestaurantID","RestaurantName","getIndexFoodList","Description","renderRoomList","HotelID","HotelName","getIndexRoomList","grade","Grade","renderActivityList","eventDataSlice","slice","getIndexActivityList","activityTime","init","AOS","authUrl","parameter","grant_type","client_id","client_secret","post","Qs","stringify","defaults","common","Authorization","access_token","err","foodsList","foodsCitySelect","foodsClassificationSelect","foodsSendSelect","foodsSearch","foodsSearchBtn","foodsPages","renderFoodsList","renderFoodsPage","foodsCity","foodsClassifications","url2","url3","getDefaultFoodsList","initFoods","roomsList","roomsCitySelect","roomsClassificationSelect","roomsSendSelect","roomsSearch","roomsSearchBtn","roomsPages","renderRoomsList","renderRoomsPage","roomsCity","roomsClassifications","getDefaultRoomsList","initRooms","initSwiper","swiper","Swiper","slidesPerView","navigation","nextEl","prevEl","pagination","el","clickable","autoplay","delay","toursList","toursCitySelect","toursClassificationSelect","toursSendSelect","toursSearch","toursSearchBtn","toursPages","renderToursList","renderToursPage","toursCity","toursClassifications","getDefaultToursList","initTours"],"mappings":"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","file":"all.js","sourcesContent":["/* global axios */\n/* global Swal */\n\n// 存放活動頁篩選後觀光活動資料\nlet activityFilterData = [];\n\n// 宣告觀光活動景點列表\nconst activitiesList = document.querySelector('.activities-list');\n\n// 宣告觀光活動關鍵字input輸入\nconst activitiesSearch = document.querySelector('.activities-search');\n\n// 宣告觀光活動關鍵字搜尋按鈕\nconst activitiesSearchBtn = document.querySelector('.activities-search-btn');\n\n// 宣告觀光活動縣市篩選下拉選單\nconst activitiesCitySelect = document.querySelector('.activities-city-select');\n\n// 宣告觀光活動日期input按鈕\nconst eventTime = document.querySelector('.eventTime');\n\n// 宣告觀光活動縣市搜尋按鈕\nconst activitiesSendSelect = document.querySelector('.activities-send-select');\n\n// 宣告觀光活動頁碼\nconst activitiesPages = document.querySelector('.activities-pages');\n\n// 如果觀光活動日期input按鈕DOM存在頁面中時\nif (eventTime) {\n  // 日期套件宣告\n  const elem = document.querySelector('input[name=\"datepicker\"]');\n  const datepicker = new Datepicker(elem, {\n    autohide: true,\n    language: 'zh-CN',\n    format: 'yyyy-mm-dd',\n    minDate: 'today',\n  });\n}\n\n//  渲染觀光活動頁面列表\nfunction renderActivitiesList(data) {\n  let str = '';\n  // console.log(data.length);\n  if (data.length === 0) {\n    str = `<li class=\"d-flex justify-content-center align-items-center\">\n    <span class=\"material-icons text-sm-m text-md-lg text-2xl me-4\">\n      error_outline\n    </span>\n    <p class=\"text-sm-m text-md-lg text-2xl text-center\">無相關活動資料，請重新搜尋！\n    </p>\n  </li>`;\n    activitiesList.innerHTML = str;\n    record.innerHTML = '本次搜尋共 0 筆資料';\n  } else {\n    data.forEach((item) => {\n      // console.log(item);\n\n      // 若API有提供圖片網址，但圖片網址失效時，使用 onerror=\"this.src='https://live.staticflickr.com/65535/52604011765_6050fc5f05_o.jpg'\" 替代\n      // if (JSON.stringify(item.Picture) === '{}') {\n      //   return;\n      // }\n\n      // 如果資料中沒有 OpenTime，則開放時間顯示未提供相關時間\n      if (item.Address === undefined) {\n        str += `<li class=\"col-md-6 col-lg-4 d-flex flex-column\">\n        <div class=\"card my-2 my-md-4 my-lg-6 card-shadow-hover h-100\">\n          <a href=\"\" class=\"stretched-link\" data-bs-toggle=\"modal\" data-bs-target=\"#activitiesScenicSpotModal\"\n            data-bs-whatever=\"${item.ActivityID}\">\n            <img src=\"${item.Picture.PictureUrl1}\"\n              onerror=\"this.src='https://live.staticflickr.com/65535/52604011765_6050fc5f05_o.jpg';this.onerror = null\"\n              class=\"card-img-top img-fluid\" alt=\".${item.Picture.PictureDescription1}\">\n          </a>\n          <div class=\"card-body\">\n            <h4 class=\"text-sm-m text-lg text-warning\">${item.ActivityName}</h4>\n            <div class=\"d-flex\">\n              <p class=\"text-s text-primary mt-2\">活動期間：${new Date(item.StartTime).toLocaleDateString()} - ${new Date(item.EndTime).toLocaleDateString()}</p>\n            </div>\n            <p class=\"text-s text-primary mt-2\">活動地址：未提供相關地址資訊</p>\n          </div>\n        </div>\n      </li>`;\n      } else {\n        str += `<li class=\"col-md-6 col-lg-4 d-flex flex-column\">\n        <div class=\"card my-2 my-md-4 my-lg-6 card-shadow-hover h-100\">\n          <a href=\"\" class=\"stretched-link\" data-bs-toggle=\"modal\" data-bs-target=\"#activitiesScenicSpotModal\"\n            data-bs-whatever=\"${item.ActivityID}\">\n            <img src=\"${item.Picture.PictureUrl1}\"\n              onerror=\"this.src='https://live.staticflickr.com/65535/52604011765_6050fc5f05_o.jpg';this.onerror = null\"\n              class=\"card-img-top img-fluid\" alt=\".${item.Picture.PictureDescription1}\">\n          </a>\n          <div class=\"card-body\">\n            <h4 class=\"text-sm-m text-lg text-warning\">${item.ActivityName}</h4>\n            <div class=\"d-flex\">\n              <p class=\"text-s text-primary mt-2\">活動期間：${new Date(item.StartTime).toLocaleDateString()} - ${new Date(item.EndTime).toLocaleDateString()}</p>\n            </div>\n            <p class=\"text-s text-primary mt-2\">活動地址：${item.Address}</p>\n          </div>\n        </div>\n      </li>`;\n      }\n    });\n    // 如果活動中有 activitiesList 這個DOM時，則執行渲染活動\n    if (activitiesList) {\n      activitiesList.innerHTML = str;\n      record.innerHTML = `本次搜尋共 ${activityData.length} 筆資料`;\n      // classification.classList.add('d-none');\n    }\n  }\n}\n\n// 整體觀光美食分頁功能\nfunction renderActivitiesPage(nowPage) {\n  // 假設一頁 12 筆\n  const dataPerPage = 12; // 一頁 12 筆資料 1~12 13~24 25~\n  let totalPages = 0;\n  if (activityFilterData.length == 0) {\n    totalPages = Math.ceil(activityData.length / dataPerPage); // 需要的頁數（無條件進位）\n  }\n  totalPages = Math.ceil(activityFilterData.length / dataPerPage); // 需要的頁數（無條件進位）\n\n  const minData = dataPerPage * nowPage - dataPerPage + 1;\n  const maxData = dataPerPage * nowPage;\n  // console.log('minData', minData, 'maxData', maxData);\n\n  // 取出當前頁數的景點資料\n  const currentData = [];\n  if (activityFilterData.length == 0) {\n    activityData.forEach((item, index) => {\n      if (index + 1 >= minData && index + 1 <= maxData) {\n        currentData.push(item);\n      }\n    });\n  } else {\n    activityFilterData.forEach((item, index) => {\n      if (index + 1 >= minData && index + 1 <= maxData) {\n        currentData.push(item);\n      }\n    });\n  }\n  // console.log(data);\n\n  // 頁數資訊\n  const pageInfo = {\n    totalPages, // 總頁數\n    nowPage, // 當前頁數\n    isFirst: nowPage == 1, // 是否為第一頁\n    isLast: nowPage == totalPages, // 是否為最後一頁\n  };\n\n// 渲染觀光活動分頁按鈕\nfunction renderPageBtn(pageInfoData) {\n  let str = '';\n  const allTotalPages = pageInfo.totalPages;\n\n  // 是不是第一頁\n  if (pageInfoData.isFirst) {\n    str += `\n      <li class=\"page-item disabled\">\n        <a class=\"page-link\" href=\"#\">\n          &laquo;\n        </a>\n      </li>\n    `;\n  } else {\n    str += `\n      <li class=\"page-item\">\n        <a class=\"page-link\" href=\"#\" aria-label=\"Previous\" data-page=\"${Number(pageInfoData.nowPage) - 1}\">\n          &laquo;\n        </a>\n      </li>\n    `;\n  }\n\n  // 第 2 ~\n  for (let i = 1; i <= allTotalPages; i++) {\n    if (Number(pageInfoData.nowPage) === i) {\n      str += `\n        <li class=\"page-item active\" aria-current=\"page\">\n          <a class=\"page-link\" href=\"#\" data-page=\"${i}\">${i}</a>\n        </li>\n      `;\n    } else {\n      str += `\n        <li class=\"page-item\" aria-current=\"page\">\n          <a class=\"page-link\" href=\"#\" data-page=\"${i}\">${i}</a>\n        </li>\n      `;\n    }\n  }\n\n  // 是不是最後一頁\n  if (pageInfoData.isLast) {\n    str += `\n      <li class=\"page-item disabled\">\n        <a class=\"page-link\" href=\"#\">\n          &raquo;\n        </a>\n      </li>\n    `;\n  } else {\n    str += `\n      <li class=\"page-item\">\n        <a class=\"page-link\" href=\"#\" aria-label=\"Next\" data-page=\"${Number(pageInfoData.nowPage) + 1}\">\n          &raquo;\n        </a>\n      </li>\n    `;\n  }\n\n  activitiesPages.innerHTML = str;\n  }\n  // 呈現出該頁資料\n  if (activitiesList) {\n    renderActivitiesList(currentData);\n  }\n\n  // 呈現分頁按鈕\n  renderPageBtn(pageInfo);\n}\n\nfunction renderActivitiesFilter(data) {\n  // 存放篩選後觀光活動資料\n  const filterData = [];\n  const selectTime = Date.parse(eventTime.value);\n  // console.log(selectTime);\n  data.forEach((item) => {\n    const startTime = Date.parse(item.StartTime);\n    const endTime = Date.parse(item.EndTime);\n    if (Number.isNaN(selectTime)) {\n      filterData.push(item);\n      // console.log(eventData);\n    } else if (selectTime > startTime && selectTime < endTime) {\n      filterData.push(item);\n    }\n  });\n  activityFilterData = filterData;\n  // 初始取得資料渲染第一頁\n  renderActivitiesPage(1);\n}\n\n// 如果觀光活動頁碼DOM存在頁面中時\nif (activitiesPages) {\n  // 點選按鈕切換觀光活動\n  activitiesPages.addEventListener('click', (e) => {\n    e.preventDefault();\n    // console.log('click!',e.target.nodeName);\n    if (e.target.nodeName !== 'A') {\n      return;\n    }\n\n    const clickPage = e.target.dataset.page;\n    // console.log(clickPage);\n\n    renderActivitiesPage(clickPage);\n  });\n\n  // 活動關鍵字搜尋功能-監聽\n  activitiesSearchBtn.addEventListener('click', () => {\n    const keyword = activitiesSearch.value.replace(/\\s*/g, '');\n      if (keyword === '') {\n        Swal.fire(\n          '出錯了',\n          '請至少輸入 1 字 以上',\n          'error',\n        );\n      } else {\n        const url = `https://tdx.transportdata.tw/api/basic/v2/Tourism/Activity?$filter=contains(ActivityName,'${keyword}')&$format=JSON`;\n      // console.log(keyword);\n      axios.get(url)\n      .then((res) => {\n        activityData = res.data;\n        // console.log(thisData);\n        activityFilterData = [];\n        // renderList(activityData);\n        // 初始取得資料渲染第一頁\n        renderActivitiesPage(1);\n      }).catch((error) => {\n        console.log(error);\n      });\n    }\n  });\n\n  // 活動縣市篩選&日期功能-監聽\n  activitiesSendSelect.addEventListener('click', () => {\n    // const selectTime = Date.parse(eventTime.value);\n    // console.log(selectTime);\n    const city = activitiesCitySelect.value;\n    // console.log(city);\n    const allUrl = 'https://tdx.transportdata.tw/api/basic/v2/Tourism/Activity?%24format=JSON';\n    const cityUrl = `https://tdx.transportdata.tw/api/basic/v2/Tourism/Activity/${city}?%24format=JSON`;\n    if (city === 'All') {\n      axios.get(allUrl,\n        {\n          headers: GetAuthorizationHeader(),\n        }).then((res) => {\n          // console.log(res.data);\n          activityData = res.data;\n          // console.log(activityData);\n          renderActivitiesFilter(activityData);\n        }).catch((error) => {\n          console.log(error);\n        });\n    } else {\n      axios.get(cityUrl,\n      {\n        headers: GetAuthorizationHeader(),\n      }).then((res) => {\n        // console.log(res.data);\n        activityData = res.data;\n        // console.log(activityData);\n        renderActivitiesFilter(activityData);\n      }).catch((error) => {\n        console.log(error);\n      });\n    }\n  });\n}\n","/* global axios */\n/* global Swal */\n\n/* 訂閱區塊JS */\nconst subscriptionInfoForm = document.querySelector('.subscriptionInfo-form');\n// 訂閱input輸入\nconst subscriptionEmail = document.querySelector('.subscription-email');\n// 訂閱按鈕\nconst subscriptionBtn = document.querySelector('.subscription-btn');\n\n// 監聽訂閱按鈕\nsubscriptionBtn.addEventListener('click', () => {\n    // eslint-disable-next-line no-useless-escape\n    // Email 格式驗證\n    const reMail = /^([a-zA-Z0-9_\\.\\-\\+])+\\@(([a-zA-Z0-9\\-])+\\.)+([a-zA-Z0-9]{2,4})+$/;\n    const { value } = subscriptionEmail;\n    // console.log(value);\n    if (value === '') {\n        // swal('出錯了！', '未輸入Email', 'error');\n        Swal.fire(\n          '出錯了！',\n          '未輸入Email',\n          'error',\n        );\n    } else if (!reMail.test(value)) {\n        // swal('出錯了！', 'Email格式錯誤', 'error');\n        Swal.fire(\n          '出錯了！',\n          'Email格式錯誤',\n          'error',\n        );\n    } else {\n        // swal('訂閱成功！', '將定期發送相關觀光資訊', 'success');\n        Swal.fire(\n          '訂閱成功！',\n          '將定期發送相關觀光資訊',\n          'success',\n        );\n        subscriptionInfoForm.reset();\n    }\n});\n\n// API 的 filter 用法：例如: 沒有圖片時\n// $filter=Picture/PictureUrl1 ne null\n\n// 宣告List列表\n// 景點列表\nconst tourList = document.querySelector('.tour-list');\n// 美食列表\nconst foodList = document.querySelector('.food-list');\n// 旅宿列表\nconst roomList = document.querySelector('.room-list');\n// 活動列表\nconst activityList = document.querySelector('.activity-list');\n// 搜尋筆數\nconst record = document.querySelector('.searchResult-text');\n\n// 存放觀光景點資料\nlet tourData = [];\n// 存放觀光美食資料\nlet foodData = [];\n// 存放觀光旅宿資料\nlet roomData = [];\n// 存放觀光活動資料\nlet activityData = [];\n// 存放首頁篩選後觀光活動資料\nconst eventData = [];\n\n// Modal\n// 景點 Modal\nconst ScenicSpotModal = document.querySelector('#tourScenicSpotModal');\n// 美食 Modal\nconst FoodSpotModal = document.querySelector('#foodScenicSpotModal');\n// 旅宿 Modal\nconst RoomSpotModal = document.querySelector('#roomScenicSpotModal');\n// 首頁活動 Modal\nconst ActivitySpotModal = document.querySelector('#activityScenicSpotModal');\n// 活動頁 Modal\nconst ActivitiesSpotModal = document.querySelector('#activitiesScenicSpotModal');\n\n// 渲染預設景點列表\nfunction renderTourList(data) {\n  let str = '';\n  // console.log(data.length);\n  if (data.length === 0) {\n    str = `<li class=\"d-flex justify-content-center align-items-center\">\n    <span class=\"material-icons text-sm-m text-md-lg text-2xl me-4\">\n      error_outline\n    </span>\n    <p class=\"text-sm-m text-md-lg text-2xl text-center\">目前沒有資料\n    </p>\n  </li>`;\n    tourList.innerHTML = str;\n  } else {\n    data.forEach((item) => {\n      // console.log(item);\n\n      // 若API有提供圖片網址，但圖片網址失效時，使用 onerror=\"this.src='https://live.staticflickr.com/65535/52604011765_6050fc5f05_o.jpg'\" 替代\n      // if (JSON.stringify(item.Picture) === '{}') {\n      //   return;\n      // }\n      // 如果資料中沒有 OpenTime，則開放時間顯示未提供相關時間\n      if (item.OpenTime === undefined) {\n        str += `<li class=\"col-md-6 col-lg-4 d-flex flex-column\">\n        <div class=\"card my-2 my-md-4 my-lg-6 card-shadow-hover h-100\">\n          <a href=\"\" class=\"stretched-link\" data-bs-toggle=\"modal\" data-bs-target=\"#tourScenicSpotModal\"\n            data-bs-whatever=\"${item.ScenicSpotID}\">\n            <img src=\"${item.Picture.PictureUrl1}\"\n              onerror=\"this.src='https://live.staticflickr.com/65535/52604011765_6050fc5f05_o.jpg';this.onerror = null\"\n              class=\"card-img-top img-fluid\" alt=\".${item.Picture.PictureDescription1}\">\n          </a>\n          <div class=\"card-body\">\n            <h4 class=\"text-sm-m text-lg text-warning\">${item.ScenicSpotName}</h4>\n            <div class=\"d-flex\">\n              <p class=\"text-s text-primary mt-2\">開放時間：未提供相關時間</p>\n            </div>\n            <p class=\"text-s text-primary mt-2\">連絡電話：${item.Phone}</p>\n          </div>\n        </div>\n      </li>`;\n      } else {\n        str += `<li class=\"col-md-6 col-lg-4 d-flex flex-column\">\n        <div class=\"card my-2 my-md-4 my-lg-6 card-shadow-hover h-100\">\n          <a href=\"\" class=\"stretched-link\" data-bs-toggle=\"modal\" data-bs-target=\"#tourScenicSpotModal\"\n            data-bs-whatever=\"${item.ScenicSpotID}\">\n            <img src=\"${item.Picture.PictureUrl1}\"\n              onerror=\"this.src='https://live.staticflickr.com/65535/52604011765_6050fc5f05_o.jpg';this.onerror = null\"\n              class=\"card-img-top img-fluid\" alt=\".${item.Picture.PictureDescription1}\">\n          </a>\n          <div class=\"card-body\">\n            <h4 class=\"text-sm-m text-lg text-warning\">${item.ScenicSpotName}</h4>\n            <p class=\"text-s text-primary mt-2\">開放時間：${item.OpenTime}</p>\n            <p class=\"text-s text-primary mt-2\">連絡電話：${item.Phone}</p>\n          </div>\n        </div>\n      </li>`;\n      }\n    });\n    // 如果頁面中有 tourList 這個DOM時，則執行渲染頁面\n    if (tourList) {\n      tourList.innerHTML = str;\n    }\n  }\n}\n// 取得預設景點資料\nfunction getIndexTourList() {\n  const url = 'https://tdx.transportdata.tw/api/basic/v2/Tourism/ScenicSpot/Taipei?$filter=contains(Class1,%27%E9%81%8A%E6%86%A9%E9%A1%9E%27)&$top=6&$skip=9&$format=JSON';\n  axios.get(\n    url,\n    {\n      headers: GetAuthorizationHeader(),\n    },\n    ).then((res) => {\n      tourData = res.data;\n      renderTourList(tourData);\n      // console.log(tourData);\n    })\n    .catch((error) => {\n      console.log(error);\n    });\n}\n// 監聽點擊景點Modal\nScenicSpotModal.addEventListener('show.bs.modal', (e) => {\n  // console.log(e.relatedTarget);\n  const modalBtn = e.relatedTarget; // 被點擊的元素可作為事件的 relatedTarget 屬性\n  const id = modalBtn.getAttribute('data-bs-whatever');\n  const img = ScenicSpotModal.querySelector('.card-img-top');\n  const title = ScenicSpotModal.querySelector('.card-title');\n  const description = ScenicSpotModal.querySelector('.card-text');\n  const openTime = ScenicSpotModal.querySelector('.openTime');\n  const address = ScenicSpotModal.querySelector('.address');\n  const phone = ScenicSpotModal.querySelector('.phone');\n\n  tourData.forEach((item) => {\n    // console.log(item);\n    if (item.ScenicSpotID === id) {\n      img.setAttribute('src', `${item.Picture.PictureUrl1}`);\n      title.textContent = `${item.ScenicSpotName}`;\n      description.textContent = `景點介紹：${item.DescriptionDetail}`;\n      if (item.OpenTime === undefined) {\n        // eslint-disable-next-line no-param-reassign\n        item.OpenTime = '未提供';\n      }\n      openTime.innerHTML = `\n        <span class=\"material-icons-outlined text-sm-s text-m me-2\">\n          schedule\n        </span>\n        開放時間：${item.OpenTime}\n      `;\n      if (item.Address === undefined) {\n        // eslint-disable-next-line no-param-reassign\n        item.Address = '未提供';\n      }\n      address.innerHTML = `\n        <span class=\"material-icons-outlined text-sm-s text-m me-2\">\n          place\n        </span>\n        所在地址：${item.Address}\n      `;\n      phone.innerHTML = `\n        <span class=\"material-icons text-sm-s text-m me-2\">\n          call\n        </span>\n        <div class=\"d-flex\">\n          連絡電話：\n          <a class=\"text-sm-s text-m\" href=\"tel:+${item.Phone}\">${item.Phone}</a>\n        </div>\n      `;\n    }\n  });\n});\n\n// 渲染預設美食列表\nfunction renderFoodList(data) {\n  let str = '';\n  // console.log(data.length);\n  if (data.length === 0) {\n    str = `<li class=\"d-flex justify-content-center align-items-center\">\n    <span class=\"material-icons text-sm-m text-md-lg text-2xl me-4\">\n      error_outline\n    </span>\n    <p class=\"text-sm-m text-md-lg text-2xl text-center\">目前沒有資料\n    </p>\n  </li>`;\n    foodList.innerHTML = str;\n  } else {\n    data.forEach((item) => {\n      // console.log(item);\n\n      // 若API有提供圖片網址，但圖片網址失效時，使用 onerror=\"this.src='https://live.staticflickr.com/65535/52604011765_6050fc5f05_o.jpg'\" 替代\n      // if (JSON.stringify(item.Picture) === '{}') {\n      //   return;\n      // }\n      // 如果資料中沒有 OpenTime，則開放時間顯示未提供相關時間\n      if (item.OpenTime === undefined) {\n        str += `<li class=\"col-md-6 col-lg-4 d-flex flex-column\">\n        <div class=\"card my-2 my-md-4 my-lg-6 card-shadow-hover h-100\">\n          <a href=\"\" class=\"stretched-link\" data-bs-toggle=\"modal\" data-bs-target=\"#foodScenicSpotModal\"\n            data-bs-whatever=\"${item.RestaurantID}\">\n            <img src=\"${item.Picture.PictureUrl1}\"\n              onerror=\"this.src='https://live.staticflickr.com/65535/52604011765_6050fc5f05_o.jpg';this.onerror = null\"\n              class=\"card-img-top img-fluid\" alt=\".${item.Picture.PictureDescription1}\">\n          </a>\n          <div class=\"card-body\">\n            <h4 class=\"text-sm-m text-lg text-warning\">${item.RestaurantName}</h4>\n            <div class=\"d-flex\">\n              <p class=\"text-s text-primary mt-2\">開放時間：未提供相關時間</p>\n            </div>\n            <p class=\"text-s text-primary mt-2\">所在地址：${item.Address}</p>\n            <p class=\"text-s text-primary mt-2\">連絡電話：${item.Phone}</p>\n          </div>\n        </div>\n      </li>`;\n      } else {\n        str += `<li class=\"col-md-6 col-lg-4 d-flex flex-column\">\n        <div class=\"card my-2 my-md-4 my-lg-6 card-shadow-hover h-100\">\n          <a href=\"\" class=\"stretched-link\" data-bs-toggle=\"modal\" data-bs-target=\"#foodScenicSpotModal\"\n            data-bs-whatever=\"${item.RestaurantID}\">\n            <img src=\"${item.Picture.PictureUrl1}\"\n              onerror=\"this.src='https://live.staticflickr.com/65535/52604011765_6050fc5f05_o.jpg';this.onerror = null\"\n              class=\"card-img-top img-fluid\" alt=\".${item.Picture.PictureDescription1}\">\n          </a>\n          <div class=\"card-body\">\n            <h4 class=\"text-sm-m text-lg text-warning\">${item.RestaurantName}</h4>\n            <p class=\"text-s text-primary mt-2\">開放時間：${item.OpenTime}</p>\n            <p class=\"text-s text-primary mt-2\">所在地址：${item.Address}</p>\n            <p class=\"text-s text-primary mt-2\">連絡電話：${item.Phone}</p>\n          </div>\n        </div>\n      </li>`;\n      }\n    });\n    // 如果頁面中有 foodList 這個DOM時，則執行渲染頁面\n    if (foodList) {\n      foodList.innerHTML = str;\n    }\n  }\n}\n// 取得預設美食資料\nfunction getIndexFoodList() {\n  const url = 'https://tdx.transportdata.tw/api/basic/v2/Tourism/Restaurant?%24filter=Picture%2FPictureUrl1%20ne%20null&%24orderby=Description&%24top=6&%24skip=205&%24format=JSON';\n  axios.get(\n    url,\n    {\n      headers: GetAuthorizationHeader(),\n    },\n    ).then((res) => {\n      foodData = res.data;\n      renderFoodList(foodData);\n      // console.log(foodData);\n    })\n    .catch((error) => {\n      console.log(error);\n    });\n}\n// 監聽點擊美食Modal\nFoodSpotModal.addEventListener('show.bs.modal', (e) => {\n  // console.log(e.relatedTarget);\n  const modalBtn = e.relatedTarget; // 被點擊的元素可作為事件的 relatedTarget 屬性\n  const id = modalBtn.getAttribute('data-bs-whatever');\n  const img = FoodSpotModal.querySelector('.card-img-top');\n  const title = FoodSpotModal.querySelector('.card-title');\n  const description = FoodSpotModal.querySelector('.card-text');\n  const openTime = FoodSpotModal.querySelector('.openTime');\n  const address = FoodSpotModal.querySelector('.address');\n  const phone = FoodSpotModal.querySelector('.phone');\n\n  foodData.forEach((item) => {\n    // console.log(item.RestaurantID);\n    if (item.RestaurantID === id) {\n      img.setAttribute('src', `${item.Picture.PictureUrl1}`);\n      title.textContent = `${item.RestaurantName}`;\n      description.textContent = `美食介紹：${item.Description}`;\n      // 如果資料中沒有 OpenTime，則開放時間顯示未提供相關時間\n      if (item.OpenTime === undefined) {\n        // eslint-disable-next-line no-param-reassign\n        item.OpenTime = '未提供';\n      }\n      openTime.innerHTML = `\n        <span class=\"material-icons-outlined text-sm-s text-m me-2\">\n          schedule\n        </span>\n        開放時間：${item.OpenTime}\n      `;\n      if (item.Address === undefined) {\n        // eslint-disable-next-line no-param-reassign\n        item.Address = '未提供';\n      }\n      address.innerHTML = `\n        <span class=\"material-icons-outlined text-sm-s text-m me-2\">\n          place\n        </span>\n        所在地址：${item.Address}\n      `;\n      phone.innerHTML = `\n        <span class=\"material-icons text-sm-s text-m me-2\">\n          call\n        </span>\n        <div class=\"d-flex\">\n          連絡電話：\n          <a class=\"text-sm-s text-m\" href=\"tel:+${item.Phone}\">${item.Phone}</a>\n        </div>\n      `;\n    }\n  });\n});\n\n// 渲染預設旅宿列表\nfunction renderRoomList(data) {\n  let str = '';\n  // console.log(data.length);\n  if (data.length === 0) {\n    str = `<li class=\"d-flex justify-content-center align-items-center\">\n    <span class=\"material-icons text-sm-m text-md-lg text-2xl me-4\">\n      error_outline\n    </span>\n    <p class=\"text-sm-m text-md-lg text-2xl text-center\">目前沒有資料\n    </p>\n  </li>`;\n  roomList.innerHTML = str;\n  } else {\n    data.forEach((item) => {\n      // console.log(item);\n      // 若API有提供圖片網址，但圖片網址失效時，使用 onerror=\"this.src='https://live.staticflickr.com/65535/52604011765_6050fc5f05_o.jpg'\" 替代\n      // if (JSON.stringify(item.Picture) === '{}') {\n      //   return;\n      // }\n      str += `<li class=\"col-md-6 col-lg-4 d-flex flex-column\">\n      <div class=\"card my-2 my-md-4 my-lg-6 card-shadow-hover h-100\">\n        <a href=\"\" class=\"stretched-link\" data-bs-toggle=\"modal\" data-bs-target=\"#roomScenicSpotModal\"\n          data-bs-whatever=\"${item.HotelID}\">\n          <img src=\"${item.Picture.PictureUrl1}\"\n            onerror=\"this.src='https://live.staticflickr.com/65535/52604011765_6050fc5f05_o.jpg';this.onerror = null\"\n            class=\"card-img-top img-fluid\" alt=\".${item.Picture.PictureDescription1}\">\n        </a>\n        <div class=\"card-body\">\n          <h4 class=\"text-sm-m text-lg text-warning\">${item.HotelName}</h4>\n          <p class=\"text-s text-primary mt-2\">所在地址：${item.Address}</p>\n          <p class=\"text-s text-primary mt-2\">連絡電話：${item.Phone}</p>\n        </div>\n      </div>\n    </li>`;\n    });\n    // 如果頁面中有 roomList 這個DOM時，則執行渲染頁面\n    if (roomList) {\n      roomList.innerHTML = str;\n    }\n  }\n}\n\n// 取得預設景點資料\nfunction getIndexRoomList() {\n  const url = 'https://tdx.transportdata.tw/api/basic/v2/Tourism/Hotel?%24filter=contains%28Class%2C%27%E5%9C%8B%E9%9A%9B%E8%A7%80%E5%85%89%E6%97%85%E9%A4%A8%27%29&%24orderby=HotelID&%24top=6&%24format=JSON';\n  axios.get(\n    url,\n    {\n      headers: GetAuthorizationHeader(),\n    },\n    ).then((res) => {\n      roomData = res.data;\n      renderRoomList(roomData);\n      // console.log(roomData);\n    })\n    .catch((error) => {\n      console.log(error);\n    });\n}\n// 監聽點擊旅宿Modal\nRoomSpotModal.addEventListener('show.bs.modal', (e) => {\n  // console.log(e.relatedTarget);\n  const modalBtn = e.relatedTarget; // 被點擊的元素可作為事件的 relatedTarget 屬性\n  const id = modalBtn.getAttribute('data-bs-whatever');\n  const img = RoomSpotModal.querySelector('.card-img-top');\n  const title = RoomSpotModal.querySelector('.card-title');\n  const description = RoomSpotModal.querySelector('.card-text');\n  const grade = RoomSpotModal.querySelector('.grade');\n  const address = RoomSpotModal.querySelector('.address');\n  const phone = RoomSpotModal.querySelector('.phone');\n\n  roomData.forEach((item) => {\n    // console.log(item.HotelID);\n    if (item.HotelID === id) {\n      img.setAttribute('src', `${item.Picture.PictureUrl1}`);\n      title.textContent = `${item.HotelName}`;\n      description.textContent = `旅宿介紹：${item.Description}`;\n      // 如果資料中沒有 Grade，則顯示未提供星級資料\n      if (item.Grade === undefined) {\n        // eslint-disable-next-line no-param-reassign\n        item.Grade = '未提供星級資料';\n      }\n      if (item.Address === undefined) {\n        // eslint-disable-next-line no-param-reassign\n        item.Address = '未提供';\n      }\n      address.innerHTML = `\n        <span class=\"material-icons-outlined text-sm-s text-m me-2\">\n          place\n        </span>\n        所在地址：${item.Address}\n      `;\n      grade.innerHTML = `\n        <span class=\"material-icons-outlined text-sm-s text-m me-2\">\n          star\n        </span>\n        星級：${item.Grade}\n      `;\n      phone.innerHTML = `\n        <span class=\"material-icons text-sm-s text-m me-2\">\n          call\n        </span>\n        <div class=\"d-flex\">\n          連絡電話：\n          <a class=\"text-sm-s text-m\" href=\"tel:+${item.Phone}\">${item.Phone}</a>\n        </div>\n      `;\n    }\n  });\n});\n\n// 渲染預設活動列表\nfunction renderActivityList(data) {\n  // console.log(data);\n  let str = '';\n  // 取得目前日期時間\n  const selectTime = +new Date();\n  data.forEach((item) => {\n    // 宣告 存放結束日期時間 變數，轉換成時間戳格式\n    const endTime = Date.parse(item.EndTime);\n    // 如果活動日期時間時間 大於等於 目前日期時間\n    if (endTime >= selectTime) {\n      // 將篩選後資料塞入 eventData 陣列中\n      eventData.push(item);\n    }\n  });\n  // console.log(eventData);\n\n  // 取得前 9 筆資料並渲染\n  let eventDataSlice = [];\n  // 如果 eventData 資料 大於等於 9 筆，則抓出前 9 筆資料\n  if (eventData.length >= 9) {\n    // slice() 方法會回傳一個新陣列物件，為原陣列選擇之 begin 至 end（不含 end）部分的淺拷貝（shallow copy）。而原本的陣列將不會被修改。\n    eventDataSlice = eventData.slice(0, 9);\n  } else {\n    // 如果 eventData 資料 小於等於 9 筆，則抓出該些資料\n    eventDataSlice = eventData;\n  }\n  // console.log(eventDataSlice);\n  eventDataSlice.forEach((item) => {\n    str += `<li class=\"swiper-slide\">\n    <div class=\"container\">\n      <div class=\"card flex-lg-row-reverse border-0\">\n        <img src=\"${item.Picture.PictureUrl1}\"\n        onerror=\"this.src='https://live.staticflickr.com/65535/52604011765_6050fc5f05_o.jpg';this.onerror = null\"\n        class=\"card-img-top img-fluid\" alt=\".${item.Picture.PictureDescription1}\">\n        <div class=\"card-body bg-tertiary text-start\">\n          <h4 class=\"card-title text-sm-m text-xl text-primary mb-6\">${item.ActivityName}</h4>\n          <div class=\"card-text\">\n            <div class=\"d-flex align-items-center mb-4\">\n              <span class=\"material-icons text-secondary me-4\">\n                calendar_month\n              </span>\n              <p class=\"text-sm-s text-m text-secondary\">\n              ${new Date(item.StartTime).toLocaleDateString()} - ${new Date(item.EndTime).toLocaleDateString()}\n              </p>\n            </div>\n            <div class=\"d-flex align-items-center mb-4\">\n              <span class=\"material-icons text-secondary me-4\">\n                place\n              </span>\n              <p class=\"text-sm-s text-m text-secondary\">\n              ${item.Address}\n              </p>\n            </div>\n          </div>\n          <a href=\"#\" class=\"btn btn-primary text-sm-s text-m text-light w-100 w-md-50\" data-bs-toggle=\"modal\" data-bs-target=\"#activityScenicSpotModal\"\n          data-bs-whatever=\"${item.ActivityID}\">了解更多</a>\n        </div>\n      </div>\n    </div>\n  </li>`;\n  });\n  // 如果頁面中有 activityList 這個DOM時，則執行渲染頁面\n  if (activityList) {\n    activityList.innerHTML = str;\n  }\n}\n\n// 取得預設活動資料\nfunction getIndexActivityList() {\n  const url = 'https://tdx.transportdata.tw/api/basic/v2/Tourism/Activity?%24filter=Picture%2FPictureUrl1%20ne%20null&%24format=JSON';\n  axios.get(\n    url,\n    {\n      headers: GetAuthorizationHeader(),\n    },\n    ).then((res) => {\n      activityData = res.data;\n      renderActivityList(activityData);\n      // console.log(activityData);\n    })\n    .catch((error) => {\n      console.log(error);\n    });\n}\n\n// 監聽首頁點擊活動Modal(使用篩選後的活動資料)\nActivitySpotModal.addEventListener('show.bs.modal', (e) => {\n  // console.log(e.relatedTarget);\n  const modalBtn = e.relatedTarget; // 被點擊的元素可作為事件的 relatedTarget 屬性\n  const id = modalBtn.getAttribute('data-bs-whatever');\n  const img = ActivitySpotModal.querySelector('.card-img-top');\n  const title = ActivitySpotModal.querySelector('.card-title');\n  const description = ActivitySpotModal.querySelector('.card-text');\n  const activityTime = ActivitySpotModal.querySelector('.activityTime');\n  const address = ActivitySpotModal.querySelector('.address');\n\n  eventData.forEach((item) => {\n    // console.log(item.ActivityID);\n    if (item.ActivityID === id) {\n      img.setAttribute('src', `${item.Picture.PictureUrl1}`);\n      title.textContent = `${item.ActivityName}`;\n      description.textContent = `活動介紹：${item.Description}`;\n      activityTime.innerHTML = `\n      <span class=\"material-icons-outlined text-sm-s text-m me-2\">\n        schedule\n      </span>\n      活動時間：${new Date(item.StartTime).toLocaleDateString()} - ${new Date(item.EndTime).toLocaleDateString()}\n      `;\n      if (item.Address === undefined) {\n        // eslint-disable-next-line no-param-reassign\n        item.Address = '未提供';\n      }\n      address.innerHTML = `\n        <span class=\"material-icons-outlined text-sm-s text-m me-2\">\n          place\n        </span>\n        活動地址：${item.Address}\n      `;\n    }\n  });\n});\n\n// 監聽活動頁點擊活動Modal\nActivitiesSpotModal.addEventListener('show.bs.modal', (e) => {\n  // console.log(e.relatedTarget);\n  const modalBtn = e.relatedTarget; // 被點擊的元素可作為事件的 relatedTarget 屬性\n  const id = modalBtn.getAttribute('data-bs-whatever');\n  const img = ActivitiesSpotModal.querySelector('.card-img-top');\n  const title = ActivitiesSpotModal.querySelector('.card-title');\n  const description = ActivitiesSpotModal.querySelector('.card-text');\n  const activityTime = ActivitiesSpotModal.querySelector('.activityTime');\n  const address = ActivitiesSpotModal.querySelector('.address');\n\n  activityData.forEach((item) => {\n    // console.log(item.ActivityID);\n    if (item.ActivityID === id) {\n      img.setAttribute('src', `${item.Picture.PictureUrl1}`);\n      title.textContent = `${item.ActivityName}`;\n      description.textContent = `活動介紹：${item.Description}`;\n      activityTime.innerHTML = `\n      <span class=\"material-icons-outlined text-sm-s text-m me-2\">\n        schedule\n      </span>\n      活動時間：${new Date(item.StartTime).toLocaleDateString()} - ${new Date(item.EndTime).toLocaleDateString()}\n      `;\n      if (item.Address === undefined) {\n        // eslint-disable-next-line no-param-reassign\n        item.Address = '未提供';\n      }\n      address.innerHTML = `\n        <span class=\"material-icons-outlined text-sm-s text-m me-2\">\n          place\n        </span>\n        活動地址：${item.Address}\n      `;\n    }\n  });\n});\n\n// ------ 初始化\nfunction init() {\n  // 呼叫取得token函式\n  // GetAuthorizationHeader();\n\n  // 呼叫取得預設觀光景點資料\n  getIndexTourList();\n  // 呼叫取得預設觀光美食資料\n  getIndexFoodList();\n  // 呼叫取得預設觀光旅宿資料\n  getIndexRoomList();\n  // 呼叫取得預設觀光活動資料\n  getIndexActivityList();\n\n  AOS.init();\n}\n\ninit();\n","/* global axios */\n\n// 請自行更換 client_id 與 client_secret\n// GetApiResponse() 中 axios.get('URL') 的 URL 可替換成想要取得的網址。\n\n// API 認證，取得 token\n// eslint-disable-next-line no-unused-vars\nfunction GetAuthorizationHeader() {\n    const authUrl = 'https://tdx.transportdata.tw/auth/realms/TDXConnect/protocol/openid-connect/token';\n\n      const parameter = {\n      grant_type: 'client_credentials',\n      client_id: 'apog780212-3c7005de-321a-4555',\n      client_secret: '4408c630-a7ff-4f57-8728-f4642ee5f932',\n    };\n\n    axios.post(authUrl,Qs.stringify(parameter))\n      .then((res) => {\n        axios.defaults.headers.common.Authorization = `Bearer ${res.data.access_token}`;\n      })\n      .catch((err) => {\n        console.log(err);\n      });\n}\n","/* global axios */\n/* global Swal */\n\n// 宣告景點美食景點列表\nconst foodsList = document.querySelector('.foods-list');\n\n// 宣告觀光美食縣市篩選下拉選單\nconst foodsCitySelect = document.querySelector('.foods-city-select');\n// 宣告觀光美食分類篩選下拉選單\nconst foodsClassificationSelect = document.querySelector('.foods-classification-select');\n// 宣告觀光美食縣市搜尋按鈕\nconst foodsSendSelect = document.querySelector('.foods-send-select');\n\n// 宣告觀光美食關鍵字input輸入\nconst foodsSearch = document.querySelector('.foods-search');\n// 宣告觀光美食關鍵字搜尋按鈕\nconst foodsSearchBtn = document.querySelector('.foods-search-btn');\n\n// 宣告觀光美食頁碼\nconst foodsPages = document.querySelector('.foods-pages');\n\n// foodsSendSelect.addEventListener('click', (e) => {\n//     console.log(foodsCitySelect.value, foodsClassificationSelect.value);\n// });\n\n// foodsSearchBtn.addEventListener('click', (e) => {\n//     console.log(foodsSearch.value);\n// });\n\n//  渲染觀光美食頁面列表\nfunction renderFoodsList(data) {\n  let str = '';\n  // console.log(data.length);\n  if (data.length === 0) {\n    str = `<li class=\"d-flex justify-content-center align-items-center\">\n    <span class=\"material-icons text-sm-m text-md-lg text-2xl me-4\">\n      error_outline\n    </span>\n    <p class=\"text-sm-m text-md-lg text-2xl text-center\">無相關美食資料，請重新搜尋！\n    </p>\n  </li>`;\n    foodsList.innerHTML = str;\n    record.innerHTML = '本次搜尋共 0 筆資料';\n  } else {\n    data.forEach((item) => {\n      // console.log(item);\n\n      // 若API有提供圖片網址，但圖片網址失效時，使用 onerror=\"this.src='https://live.staticflickr.com/65535/52604011765_6050fc5f05_o.jpg'\" 替代\n      // if (JSON.stringify(item.Picture) === '{}') {\n      //   return;\n      // }\n      // 如果資料中沒有 OpenTime，則開放時間顯示未提供相關時間\n      if (item.OpenTime === undefined) {\n        str += `<li class=\"col-md-6 col-lg-4 d-flex flex-column\">\n        <div class=\"card my-2 my-md-4 my-lg-6 card-shadow-hover h-100\">\n          <a href=\"\" class=\"stretched-link\" data-bs-toggle=\"modal\" data-bs-target=\"#foodScenicSpotModal\"\n            data-bs-whatever=\"${item.RestaurantID}\">\n            <img src=\"${item.Picture.PictureUrl1}\"\n              onerror=\"this.src='https://live.staticflickr.com/65535/52604011765_6050fc5f05_o.jpg';this.onerror = null\"\n              class=\"card-img-top img-fluid\" alt=\".${item.Picture.PictureDescription1}\">\n          </a>\n          <div class=\"card-body\">\n            <h4 class=\"text-sm-m text-lg text-warning\">${item.RestaurantName}</h4>\n            <div class=\"d-flex\">\n              <p class=\"text-s text-primary mt-2\">開放時間：未提供相關時間</p>\n            </div>\n            <p class=\"text-s text-primary mt-2\">所在地址：${item.Address}</p>\n            <p class=\"text-s text-primary mt-2\">連絡電話：${item.Phone}</p>\n          </div>\n        </div>\n      </li>`;\n      } else {\n        str += `<li class=\"col-md-6 col-lg-4 d-flex flex-column\">\n        <div class=\"card my-2 my-md-4 my-lg-6 card-shadow-hover h-100\">\n          <a href=\"\" class=\"stretched-link\" data-bs-toggle=\"modal\" data-bs-target=\"#foodScenicSpotModal\"\n            data-bs-whatever=\"${item.RestaurantID}\">\n            <img src=\"${item.Picture.PictureUrl1}\"\n              onerror=\"this.src='https://live.staticflickr.com/65535/52604011765_6050fc5f05_o.jpg';this.onerror = null\"\n              class=\"card-img-top img-fluid\" alt=\".${item.Picture.PictureDescription1}\">\n          </a>\n          <div class=\"card-body\">\n            <h4 class=\"text-sm-m text-lg text-warning\">${item.RestaurantName}</h4>\n            <p class=\"text-s text-primary mt-2\">開放時間：${item.OpenTime}</p>\n            <p class=\"text-s text-primary mt-2\">所在地址：${item.Address}</p>\n            <p class=\"text-s text-primary mt-2\">連絡電話：${item.Phone}</p>\n          </div>\n        </div>\n      </li>`;\n      }\n    });\n    // 如果美食中有 tourList 這個DOM時，則執行渲染美食\n    if (foodsList) {\n      foodsList.innerHTML = str;\n      record.innerHTML = `本次搜尋共 ${foodData.length} 筆資料`;\n      // classification.classList.add('d-none');\n    }\n  }\n}\n\n// 整體觀光美食分頁功能\nfunction renderFoodsPage(nowPage) {\n  // 假設一頁 12 筆\n  const dataPerPage = 12; // 一頁 12 筆資料 1~12 13~24 25~\n  const totalPages = Math.ceil(foodData.length / dataPerPage); // 需要的頁數（無條件進位）\n\n  const minData = dataPerPage * nowPage - dataPerPage + 1;\n  const maxData = dataPerPage * nowPage;\n  // console.log('minData', minData, 'maxData', maxData);\n\n  // 取出當前頁數的景點資料\n  const currentData = [];\n  foodData.forEach((item, index) => {\n    if (index + 1 >= minData && index + 1 <= maxData) {\n      currentData.push(item);\n    }\n  });\n  // console.log(data);\n\n  // 頁數資訊\n  const pageInfo = {\n    totalPages, // 總頁數\n    nowPage, // 當前頁數\n    isFirst: nowPage == 1, // 是否為第一頁\n    isLast: nowPage == totalPages, // 是否為最後一頁\n  };\n\n// 渲染觀光美食分頁按鈕\nfunction renderPageBtn(pageInfoData) {\n  let str = '';\n  const allTotalPages = pageInfo.totalPages;\n\n  // 是不是第一頁\n  if (pageInfoData.isFirst) {\n    str += `\n      <li class=\"page-item disabled\">\n        <a class=\"page-link\" href=\"#\">\n          &laquo;\n        </a>\n      </li>\n    `;\n  } else {\n    str += `\n      <li class=\"page-item\">\n        <a class=\"page-link\" href=\"#\" aria-label=\"Previous\" data-page=\"${Number(pageInfoData.nowPage) - 1}\">\n          &laquo;\n        </a>\n      </li>\n    `;\n  }\n\n  // 第 2 ~\n  for (let i = 1; i <= allTotalPages; i++) {\n    if (Number(pageInfoData.nowPage) === i) {\n      str += `\n        <li class=\"page-item active\" aria-current=\"page\">\n          <a class=\"page-link\" href=\"#\" data-page=\"${i}\">${i}</a>\n        </li>\n      `;\n    } else {\n      str += `\n        <li class=\"page-item\" aria-current=\"page\">\n          <a class=\"page-link\" href=\"#\" data-page=\"${i}\">${i}</a>\n        </li>\n      `;\n    }\n  }\n\n  // 是不是最後一頁\n  if (pageInfoData.isLast) {\n    str += `\n      <li class=\"page-item disabled\">\n        <a class=\"page-link\" href=\"#\">\n          &raquo;\n        </a>\n      </li>\n    `;\n  } else {\n    str += `\n      <li class=\"page-item\">\n        <a class=\"page-link\" href=\"#\" aria-label=\"Next\" data-page=\"${Number(pageInfoData.nowPage) + 1}\">\n          &raquo;\n        </a>\n      </li>\n    `;\n  }\n\n  foodsPages.innerHTML = str;\n  }\n  // 呈現出該頁資料\n  if (foodsList) {\n    renderFoodsList(currentData);\n  }\n\n  // 呈現分頁按鈕\n  renderPageBtn(pageInfo);\n}\n\nif (foodsPages) {\n  // 點選按鈕切換觀光美食\n  foodsPages.addEventListener('click', (e) => {\n    e.preventDefault();\n    // console.log('click!',e.target.nodeName);\n    if (e.target.nodeName !== 'A') {\n      return;\n    }\n\n    const clickPage = e.target.dataset.page;\n    // console.log(clickPage);\n\n    renderFoodsPage(clickPage);\n  });\n\n  // 觀光美食縣市篩選功能-監聽\n  foodsSendSelect.addEventListener('click', () => {\n    // console.log('點擊到了');\n    const foodsCity = foodsCitySelect.value;\n    let foodsClassifications = foodsClassificationSelect.value;\n    // console.log(foodsClassifications);\n    // google瀏覽器，\"其他\"兩個字有時候會變成\"其��\"，故增加此判斷\n    if (foodsClassifications === '其��') {\n      foodsClassifications = '其他';\n    }\n    const url = `https://tdx.transportdata.tw/api/basic/v2/Tourism/Restaurant/${foodsCity}?%24format=JSON`;\n    const url2 = `https://tdx.transportdata.tw/api/basic/v2/Tourism/Restaurant/${foodsCity}?$filter=contains(Class,'${foodsClassifications}')&$format=JSON`;\n    const url3 = `https://tdx.transportdata.tw/api/basic/v2/Tourism/Restaurant?$filter=contains(Class,'${foodsClassifications}')&$format=JSON`;\n\n    if (foodsCity === 'All' && foodsClassifications === 'All') {\n      Swal.fire(\n        '出錯了',\n        '請至少選擇一個下拉選項',\n        'error',\n      );\n    } else if (foodsCity !== 'All' && foodsClassifications !== 'All') {\n      // 呼叫 API 服務，取得指定縣市、指定分類之觀光美食資料\n    axios.get(url2,\n      {\n        headers: GetAuthorizationHeader(),\n      }).then((res) => {\n        // console.log(res.data);\n        foodData = res.data;\n        renderFoodsPage(1);\n      }).catch((error) => {\n        console.log(error);\n      });\n    } else if (foodsCity === 'All' && foodsClassifications !== 'All') {\n      // 呼叫 API 服務，取得全部縣市、指定分類之觀光美食資料\n    axios.get(url3,\n      {\n        headers: GetAuthorizationHeader(),\n      }).then((res) => {\n        // console.log(res.data);\n        foodData = res.data;\n        renderFoodsPage(1);\n      }).catch((error) => {\n        console.log(error);\n      });\n    } else {\n      // 呼叫 API 服務，取得指定縣市、未指定分類之觀光美食資料\n      axios.get(url,\n        {\n          headers: GetAuthorizationHeader(),\n        }).then((res) => {\n          // console.log(res.data);\n          foodData = res.data;\n          renderFoodsPage(1);\n        }).catch((error) => {\n          console.log(error);\n      });\n    }\n  });\n\n  // 觀光美食關鍵字搜尋功能-監聽\n  foodsSearchBtn.addEventListener('click', () => {\n    const keyword = foodsSearch.value.replace(/\\s*/g, '');\n      if (keyword === '') {\n        Swal.fire(\n          '出錯了',\n          '請至少輸入 1 字 以上',\n          'error',\n        );\n      } else {\n        const url = `https://tdx.transportdata.tw/api/basic/v2/Tourism/Restaurant?$filter=contains(RestaurantName,'${keyword}')&$format=JSON`;\n      // console.log(keyword);\n      axios.get(url)\n      .then((res) => {\n        foodData = res.data;\n        // console.log(thisData);\n        // renderList(foodData);\n        // 初始取得資料渲染第一頁\n        renderFoodsPage(1);\n      }).catch((error) => {\n        console.log(error);\n      });\n    }\n  });\n}\n\n// 取得分頁預設美食資料\nfunction getDefaultFoodsList() {\n  const url = 'https://tdx.transportdata.tw/api/basic/v2/Tourism/Restaurant?%24filter=Picture%2FPictureUrl1%20ne%20null&%24top=120&%24format=JSON';\n  axios.get(\n    url,\n    {\n      headers: GetAuthorizationHeader(),\n    },\n    ).then((res) => {\n      foodData = res.data;\n      renderFoodsPage(1);\n    })\n    .catch((error) => {\n      console.log(error);\n    });\n}\n\nfunction initFoods() {\n  if (foodsList) {\n    getDefaultFoodsList();\n  }\n}\n\ninitFoods();\n","/* global axios */\n/* global Swal */\n\n// 宣告旅宿頁面旅宿列表\nconst roomsList = document.querySelector('.rooms-list');\n\n// 縣市篩選下拉選單\nconst roomsCitySelect = document.querySelector('.rooms-city-select');\n// 分類篩選下拉選單\nconst roomsClassificationSelect = document.querySelector('.rooms-classification-select');\n// 縣市搜尋按鈕\nconst roomsSendSelect = document.querySelector('.rooms-send-select');\n\n// 關鍵字input輸入\nconst roomsSearch = document.querySelector('.rooms-search');\n// 關鍵字搜尋按鈕\nconst roomsSearchBtn = document.querySelector('.rooms-search-btn');\n\n// 頁碼\nconst roomsPages = document.querySelector('.rooms-pages');\n\n// toursSendSelect.addEventListener('click', (e) => {\n//     console.log(toursCitySelect.value, toursClassificationSelect.value);\n// });\n\n// toursSearchBtn.addEventListener('click', (e) => {\n//     console.log(toursSearch.value);\n// });\n\n//  渲染列表\nfunction renderRoomsList(data) {\n  let str = '';\n  // console.log(data.length);\n  if (data.length === 0) {\n    str = `<li class=\"d-flex justify-content-center align-items-center\">\n    <span class=\"material-icons text-sm-m text-md-lg text-2xl me-4\">\n      error_outline\n    </span>\n    <p class=\"text-sm-m text-md-lg text-2xl text-center\">無相關旅宿資料，請重新搜尋！\n    </p>\n  </li>`;\n    roomsList.innerHTML = str;\n    record.innerHTML = '本次搜尋共 0 筆資料';\n  } else {\n    data.forEach((item) => {\n      // console.log(item);\n\n      // 若API有提供圖片網址，但圖片網址失效時，使用 onerror=\"this.src='https://live.staticflickr.com/65535/52604011765_6050fc5f05_o.jpg'\" 替代\n      // if (JSON.stringify(item.Picture) === '{}') {\n      //   return;\n      // }\n      // 如果資料中沒有 OpenTime，則開放時間顯示未提供相關時間\n      str += `<li class=\"col-md-6 col-lg-4 d-flex flex-column\">\n        <div class=\"card my-2 my-md-4 my-lg-6 card-shadow-hover h-100\">\n          <a href=\"\" class=\"stretched-link\" data-bs-toggle=\"modal\" data-bs-target=\"#roomScenicSpotModal\"\n            data-bs-whatever=\"${item.HotelID}\">\n            <img src=\"${item.Picture.PictureUrl1}\"\n              onerror=\"this.src='https://live.staticflickr.com/65535/52604011765_6050fc5f05_o.jpg';this.onerror = null\"\n              class=\"card-img-top img-fluid\" alt=\".${item.Picture.PictureDescription1}\">\n          </a>\n          <div class=\"card-body\">\n            <h4 class=\"text-sm-m text-lg text-warning\">${item.HotelName}</h4>\n            <p class=\"text-s text-primary mt-2\">所在地址：${item.Address}</p>\n            <p class=\"text-s text-primary mt-2\">連絡電話：${item.Phone}</p>\n          </div>\n        </div>\n      </li>`;\n    });\n    // 如果頁面中有 tourList 這個DOM時，則執行渲染頁面\n    if (roomsList) {\n      roomsList.innerHTML = str;\n      record.innerHTML = `本次搜尋共 ${roomData.length} 筆資料`;\n      // classification.classList.add('d-none');\n    }\n  }\n}\n\n// 整體分頁功能\nfunction renderRoomsPage(nowPage) {\n  // 假設一頁 12 筆\n  const dataPerPage = 12; // 一頁 12 筆資料 1~12 13~24 25~\n  const totalPages = Math.ceil(roomData.length / dataPerPage); // 需要的頁數（無條件進位）\n\n  const minData = dataPerPage * nowPage - dataPerPage + 1;\n  const maxData = dataPerPage * nowPage;\n  // console.log('minData', minData, 'maxData', maxData);\n\n  // 取出當前頁數的旅宿資料\n  const currentData = [];\n  roomData.forEach((item, index) => {\n    if (index + 1 >= minData && index + 1 <= maxData) {\n      currentData.push(item);\n    }\n  });\n  // console.log(data);\n\n  // 頁數資訊\n  const pageInfo = {\n    totalPages, // 總頁數\n    nowPage, // 當前頁數\n    isFirst: nowPage == 1, // 是否為第一頁\n    isLast: nowPage == totalPages, // 是否為最後一頁\n  };\n\n// 渲染分頁按鈕\nfunction renderPageBtn(pageInfoData) {\n  let str = '';\n  const allTotalPages = pageInfo.totalPages;\n\n  // 是不是第一頁\n  if (pageInfoData.isFirst) {\n    str += `\n      <li class=\"page-item disabled\">\n        <a class=\"page-link\" href=\"#\">\n          &laquo;\n        </a>\n      </li>\n    `;\n  } else {\n    str += `\n      <li class=\"page-item\">\n        <a class=\"page-link\" href=\"#\" aria-label=\"Previous\" data-page=\"${Number(pageInfoData.nowPage) - 1}\">\n          &laquo;\n        </a>\n      </li>\n    `;\n  }\n\n  // 第 2 ~\n  for (let i = 1; i <= allTotalPages; i++) {\n    if (Number(pageInfoData.nowPage) === i) {\n      str += `\n        <li class=\"page-item active\" aria-current=\"page\">\n          <a class=\"page-link\" href=\"#\" data-page=\"${i}\">${i}</a>\n        </li>\n      `;\n    } else {\n      str += `\n        <li class=\"page-item\" aria-current=\"page\">\n          <a class=\"page-link\" href=\"#\" data-page=\"${i}\">${i}</a>\n        </li>\n      `;\n    }\n  }\n\n  // 是不是最後一頁\n  if (pageInfoData.isLast) {\n    str += `\n      <li class=\"page-item disabled\">\n        <a class=\"page-link\" href=\"#\">\n          &raquo;\n        </a>\n      </li>\n    `;\n  } else {\n    str += `\n      <li class=\"page-item\">\n        <a class=\"page-link\" href=\"#\" aria-label=\"Next\" data-page=\"${Number(pageInfoData.nowPage) + 1}\">\n          &raquo;\n        </a>\n      </li>\n    `;\n  }\n\n  roomsPages.innerHTML = str;\n  }\n  // 呈現出該頁資料\n  if (roomsList) {\n    renderRoomsList(currentData);\n  }\n\n  // 呈現分頁按鈕\n  renderPageBtn(pageInfo);\n}\n\nif (roomsPages) {\n  // 點選按鈕切換頁面\n  roomsPages.addEventListener('click', (e) => {\n    e.preventDefault();\n    // console.log('click!',e.target.nodeName);\n    if (e.target.nodeName !== 'A') {\n      return;\n    }\n\n    const clickPage = e.target.dataset.page;\n    // console.log(clickPage);\n\n    renderRoomsPage(clickPage);\n  });\n\n  // 縣市篩選功能-監聽\n  roomsSendSelect.addEventListener('click', () => {\n    // console.log('點擊到了');\n    const roomsCity = roomsCitySelect.value;\n    const roomsClassifications = roomsClassificationSelect.value;\n    // console.log(roomsCity);\n    // console.log(roomsClassifications);\n    const url = `https://tdx.transportdata.tw/api/basic/v2/Tourism/Hotel/${roomsCity}?%24format=JSON`;\n    const url2 = `https://tdx.transportdata.tw/api/basic/v2/Tourism/Hotel/${roomsCity}?$filter=contains(Class,'${roomsClassifications}')&$format=JSON`;\n    const url3 = `https://tdx.transportdata.tw/api/basic/v2/Tourism/Hotel?$filter=contains(Class,'${roomsClassifications}')&$format=JSON`;\n\n    if (roomsCity === 'All' && roomsClassifications === 'All') {\n      // getAllRoomsList();\n      Swal.fire(\n        '出錯了',\n        '請至少選擇一個下拉選項',\n        'error',\n      );\n    } else if (roomsCity !== 'All' && roomsClassifications !== 'All') {\n      // 呼叫 API 服務，取得指定縣市、指定分類之觀光旅宿資料\n    axios.get(url2,\n      {\n        headers: GetAuthorizationHeader(),\n      }).then((res) => {\n        // console.log(res.data);\n        roomData = res.data;\n        renderRoomsPage(1);\n      }).catch((error) => {\n        console.log(error);\n      });\n    } else if (roomsCity === 'All' && roomsClassifications !== 'All') {\n      // 呼叫 API 服務，取得全部縣市、指定分類之觀光旅宿資料\n    axios.get(url3,\n      {\n        headers: GetAuthorizationHeader(),\n      }).then((res) => {\n        // console.log(res.data);\n        roomData = res.data;\n        renderRoomsPage(1);\n      }).catch((error) => {\n        console.log(error);\n      });\n    } else {\n      // 呼叫 API 服務，取得指定縣市、未指定分類之觀光旅宿資料\n      axios.get(url,\n        {\n          headers: GetAuthorizationHeader(),\n        }).then((res) => {\n          // console.log(res.data);\n          roomData = res.data;\n          renderRoomsPage(1);\n        }).catch((error) => {\n          console.log(error);\n      });\n    }\n  });\n\n  // 關鍵字搜尋功能-監聽\n  roomsSearchBtn.addEventListener('click', () => {\n    const keyword = roomsSearch.value.replace(/\\s*/g, '');\n      if (keyword === '') {\n        Swal.fire(\n          '出錯了',\n          '請至少輸入 1 字 以上',\n          'error',\n        );\n      } else {\n        const url = `https://tdx.transportdata.tw/api/basic/v2/Tourism/Hotel?$filter=contains(HotelName,'${keyword}')&$format=JSON`;\n      // console.log(keyword);\n      axios.get(url)\n      .then((res) => {\n        roomData = res.data;\n        // console.log(thisData);\n        // renderList(roomData);\n        // 初始取得資料渲染第一頁\n        renderRoomsPage(1);\n      }).catch((error) => {\n        console.log(error);\n      });\n    }\n  });\n}\n\n// 取得分頁預設旅宿資料\nfunction getDefaultRoomsList() {\n  const url = 'https://tdx.transportdata.tw/api/basic/v2/Tourism/Hotel?%24filter=Picture%2FPictureUrl1%20ne%20null&%24top=120&%24format=JSON';\n  axios.get(\n    url,\n    {\n      headers: GetAuthorizationHeader(),\n    },\n    ).then((res) => {\n      roomData = res.data;\n      renderRoomsPage(1);\n    })\n    .catch((error) => {\n      console.log(error);\n    });\n}\n\nfunction initRooms() {\n  if (roomsList) {\n    getDefaultRoomsList();\n  }\n}\n\ninitRooms();\n","/* 自訂初始化的 Swiper 套件的函式 */\nfunction initSwiper() {\n/*\nid=\"comment-swiper\" 區塊是我想要使用 swiper 套件的範圍\n要抓取 id \"#comment-swiper\"\n可以參考 CodePen 來看這個 id 是對應到哪個區塊\n*/\n\nconst swiper = new Swiper('#comment-swiper', {\n\n    /*  預設要顯示幾個卡片 */\n    slidesPerView: 1,\n    /* 切換按鈕 */\n    navigation: {\n      nextEl: '.swiper-button-next',\n      prevEl: '.swiper-button-prev',\n    },\n    /* 分頁設定 */\n    pagination: {\n      el: '.swiper-pagination',\n      clickable: true,\n    },\n    /* 自動播放 */\n    autoplay: {\n      delay: 5000,\n    },\n  });\n}\n\n/* 觸發自己定義的函式 */\ninitSwiper();\n","/* global axios */\n/* global Swal */\n\n// 宣告景點頁面景點列表\nconst toursList = document.querySelector('.tours-list');\n\n// 縣市篩選下拉選單\nconst toursCitySelect = document.querySelector('.tours-city-select');\n// 分類篩選下拉選單\nconst toursClassificationSelect = document.querySelector('.tours-classification-select');\n// 縣市搜尋按鈕\nconst toursSendSelect = document.querySelector('.tours-send-select');\n\n// 關鍵字input輸入\nconst toursSearch = document.querySelector('.tours-search');\n// 關鍵字搜尋按鈕\nconst toursSearchBtn = document.querySelector('.tours-search-btn');\n\n// 頁碼\nconst toursPages = document.querySelector('.tours-pages');\n\n// toursSendSelect.addEventListener('click', (e) => {\n//     console.log(toursCitySelect.value, toursClassificationSelect.value);\n// });\n\n// toursSearchBtn.addEventListener('click', (e) => {\n//     console.log(toursSearch.value);\n// });\n\n//  渲染列表\nfunction renderToursList(data) {\n  let str = '';\n  // console.log(data.length);\n  if (data.length === 0) {\n    str = `<li class=\"d-flex justify-content-center align-items-center\">\n    <span class=\"material-icons text-sm-m text-md-lg text-2xl me-4\">\n      error_outline\n    </span>\n    <p class=\"text-sm-m text-md-lg text-2xl text-center\">無相關景點資料，請重新搜尋！\n    </p>\n  </li>`;\n    toursList.innerHTML = str;\n    record.innerHTML = '本次顯示共 0 筆資料';\n  } else {\n    data.forEach((item) => {\n      // console.log(item);\n\n      // 若API有提供圖片網址，但圖片網址失效時，使用 onerror=\"this.src='https://live.staticflickr.com/65535/52604011765_6050fc5f05_o.jpg'\" 替代\n      // if (JSON.stringify(item.Picture) === '{}') {\n      //   return;\n      // }\n      // 如果資料中沒有 OpenTime，則開放時間顯示未提供相關時間\n      if (item.OpenTime === undefined) {\n        str += `<li class=\"col-md-6 col-lg-4 d-flex flex-column\">\n        <div class=\"card my-2 my-md-4 my-lg-6 card-shadow-hover h-100\">\n          <a href=\"\" class=\"stretched-link\" data-bs-toggle=\"modal\" data-bs-target=\"#tourScenicSpotModal\"\n            data-bs-whatever=\"${item.ScenicSpotID}\">\n            <img src=\"${item.Picture.PictureUrl1}\"\n              onerror=\"this.src='https://live.staticflickr.com/65535/52604011765_6050fc5f05_o.jpg';this.onerror = null\"\n              class=\"card-img-top img-fluid\" alt=\".${item.Picture.PictureDescription1}\">\n          </a>\n          <div class=\"card-body\">\n            <h4 class=\"text-sm-m text-lg text-warning\">${item.ScenicSpotName}</h4>\n            <div class=\"d-flex\">\n              <p class=\"text-s text-primary mt-2\">開放時間：未提供相關時間</p>\n            </div>\n            <p class=\"text-s text-primary mt-2\">連絡電話：${item.Phone}</p>\n          </div>\n        </div>\n      </li>`;\n      } else {\n        str += `<li class=\"col-md-6 col-lg-4 d-flex flex-column\">\n        <div class=\"card my-2 my-md-4 my-lg-6 card-shadow-hover h-100\">\n          <a href=\"\" class=\"stretched-link\" data-bs-toggle=\"modal\" data-bs-target=\"#tourScenicSpotModal\"\n            data-bs-whatever=\"${item.ScenicSpotID}\">\n            <img src=\"${item.Picture.PictureUrl1}\"\n              onerror=\"this.src='https://live.staticflickr.com/65535/52604011765_6050fc5f05_o.jpg';this.onerror = null\"\n              class=\"card-img-top img-fluid\" alt=\".${item.Picture.PictureDescription1}\">\n          </a>\n          <div class=\"card-body\">\n            <h4 class=\"text-sm-m text-lg text-warning\">${item.ScenicSpotName}</h4>\n            <p class=\"text-s text-primary mt-2\">開放時間：${item.OpenTime}</p>\n            <p class=\"text-s text-primary mt-2\">連絡電話：${item.Phone}</p>\n          </div>\n        </div>\n      </li>`;\n      }\n    });\n    // 如果頁面中有 tourList 這個DOM時，則執行渲染頁面\n    if (toursList) {\n      toursList.innerHTML = str;\n      record.innerHTML = `本次顯示共 ${tourData.length} 筆資料`;\n      // classification.classList.add('d-none');\n    }\n  }\n}\n\n// 整體分頁功能\nfunction renderToursPage(nowPage) {\n  // 假設一頁 12 筆\n  const dataPerPage = 12; // 一頁 12 筆資料 1~12 13~24 25~\n  const totalPages = Math.ceil(tourData.length / dataPerPage); // 需要的頁數（無條件進位）\n\n  const minData = dataPerPage * nowPage - dataPerPage + 1;\n  const maxData = dataPerPage * nowPage;\n  // console.log('minData', minData, 'maxData', maxData);\n\n  // 取出當前頁數的景點資料\n  const currentData = [];\n  tourData.forEach((item, index) => {\n    if (index + 1 >= minData && index + 1 <= maxData) {\n      currentData.push(item);\n    }\n  });\n  // console.log(data);\n\n  // 頁數資訊\n  const pageInfo = {\n    totalPages, // 總頁數\n    nowPage, // 當前頁數\n    isFirst: nowPage == 1, // 是否為第一頁\n    isLast: nowPage == totalPages, // 是否為最後一頁\n  };\n\n// 渲染分頁按鈕\nfunction renderPageBtn(pageInfoData) {\n  let str = '';\n  const allTotalPages = pageInfo.totalPages;\n\n  // 是不是第一頁\n  if (pageInfoData.isFirst) {\n    str += `\n      <li class=\"page-item disabled\">\n        <a class=\"page-link\" href=\"#\">\n          &laquo;\n        </a>\n      </li>\n    `;\n  } else {\n    str += `\n      <li class=\"page-item\">\n        <a class=\"page-link\" href=\"#\" aria-label=\"Previous\" data-page=\"${Number(pageInfoData.nowPage) - 1}\">\n          &laquo;\n        </a>\n      </li>\n    `;\n  }\n\n  // 第 2 ~\n  for (let i = 1; i <= allTotalPages; i++) {\n    if (Number(pageInfoData.nowPage) === i) {\n      str += `\n        <li class=\"page-item active\" aria-current=\"page\">\n          <a class=\"page-link\" href=\"#\" data-page=\"${i}\">${i}</a>\n        </li>\n      `;\n    } else {\n      str += `\n        <li class=\"page-item\" aria-current=\"page\">\n          <a class=\"page-link\" href=\"#\" data-page=\"${i}\">${i}</a>\n        </li>\n      `;\n    }\n  }\n\n  // 是不是最後一頁\n  if (pageInfoData.isLast) {\n    str += `\n      <li class=\"page-item disabled\">\n        <a class=\"page-link\" href=\"#\">\n          &raquo;\n        </a>\n      </li>\n    `;\n  } else {\n    str += `\n      <li class=\"page-item\">\n        <a class=\"page-link\" href=\"#\" aria-label=\"Next\" data-page=\"${Number(pageInfoData.nowPage) + 1}\">\n          &raquo;\n        </a>\n      </li>\n    `;\n  }\n\n  toursPages.innerHTML = str;\n  }\n  // 呈現出該頁資料\n  if (toursList) {\n    renderToursList(currentData);\n  }\n\n  // 呈現分頁按鈕\n  renderPageBtn(pageInfo);\n}\n\nif (toursPages) {\n  // 點選按鈕切換頁面\n  toursPages.addEventListener('click', (e) => {\n    e.preventDefault();\n    // console.log('click!',e.target.nodeName);\n    if (e.target.nodeName !== 'A') {\n      return;\n    }\n\n    const clickPage = e.target.dataset.page;\n    // console.log(clickPage);\n\n    renderToursPage(clickPage);\n  });\n\n  // 縣市篩選功能-監聽\n  toursSendSelect.addEventListener('click', () => {\n    // console.log('點擊到了');\n    const toursCity = toursCitySelect.value;\n    const toursClassifications = toursClassificationSelect.value;\n    // console.log(city);\n    // console.log(classification);\n    const url = `https://tdx.transportdata.tw/api/basic/v2/Tourism/ScenicSpot/${toursCity}?%24format=JSON`;\n    const url2 = `https://tdx.transportdata.tw/api/basic/v2/Tourism/ScenicSpot/${toursCity}?$filter=contains(Class1,'${toursClassifications}')&$format=JSON`;\n    const url3 = `https://tdx.transportdata.tw/api/basic/v2/Tourism/ScenicSpot?$filter=contains(Class1,'${toursClassifications}')&$format=JSON`;\n\n    if (toursCity === 'All' && toursClassifications === 'All') {\n      // getAlltourList();\n      Swal.fire(\n        '出錯了',\n        '請至少選擇一個下拉選項',\n        'error',\n      );\n    } else if (toursCity !== 'All' && toursClassifications !== 'All') {\n      // 呼叫 API 服務，取得指定縣市、指定分類之觀光景點資料\n    axios.get(url2,\n      {\n        headers: GetAuthorizationHeader(),\n      }).then((res) => {\n        // console.log(res.data);\n        tourData = res.data;\n        renderToursPage(1);\n      }).catch((error) => {\n        console.log(error);\n      });\n    } else if (toursCity === 'All' && toursClassifications !== 'All') {\n      // 呼叫 API 服務，取得全部縣市、指定分類之觀光景點資料\n    axios.get(url3,\n      {\n        headers: GetAuthorizationHeader(),\n      }).then((res) => {\n        // console.log(res.data);\n        tourData = res.data;\n        renderToursPage(1);\n      }).catch((error) => {\n        console.log(error);\n      });\n    } else {\n      // 呼叫 API 服務，取得指定縣市、未指定分類之觀光景點資料\n      axios.get(url,\n        {\n          headers: GetAuthorizationHeader(),\n        }).then((res) => {\n          // console.log(res.data);\n          tourData = res.data;\n          renderToursPage(1);\n        }).catch((error) => {\n          console.log(error);\n      });\n    }\n  });\n\n  // 關鍵字搜尋功能-監聽\n  toursSearchBtn.addEventListener('click', () => {\n    const keyword = toursSearch.value.replace(/\\s*/g, '');\n      if (keyword === '') {\n        Swal.fire(\n          '出錯了',\n          '請至少輸入 1 字 以上',\n          'error',\n        );\n      } else {\n        const url = `https://tdx.transportdata.tw/api/basic/v2/Tourism/ScenicSpot?$filter=contains(ScenicSpotName,'${keyword}')&$format=JSON`;\n      // console.log(keyword);\n      axios.get(url)\n      .then((res) => {\n        tourData = res.data;\n        // console.log(thisData);\n        // renderList(tourData);\n        // 初始取得資料渲染第一頁\n        renderToursPage(1);\n      }).catch((error) => {\n        console.log(error);\n      });\n    }\n  });\n}\n\n// 取得分頁預設景點資料\nfunction getDefaultToursList() {\n  const url = 'https://tdx.transportdata.tw/api/basic/v2/Tourism/ScenicSpot?%24filter=Picture%2FPictureUrl1%20ne%20null&%24top=120&%24format=JSON';\n  axios.get(\n    url,\n    {\n      headers: GetAuthorizationHeader(),\n    },\n    ).then((res) => {\n      tourData = res.data;\n      renderToursPage(1);\n    })\n    .catch((error) => {\n      console.log(error);\n    });\n}\n\nfunction initTours() {\n  if (toursList) {\n    getDefaultToursList();\n  }\n}\n\ninitTours();\n"]}